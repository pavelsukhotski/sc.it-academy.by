<!DOCTYPE html>
<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Данные о сотрудниках</title>
	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" rel="stylesheet">
	<script type="text/javascript" src="https://code.jquery.com/jquery-3.3.1.js"></script>
	<script type="text/javascript">
		$(document).ready(function() {
			$('tr:not(:first)').click(function() {
				$(this).toggle();
											//Начиная отсюда не работает
if ('tr:not(:first)').is(':visible') {
$('#showall').text('No hidden');
			
}
else {
	$('#showall').text('Show');

//---------------------Эта секция рабочая----	
	$('#showall').click(function() {
				$('tr').show();
//-------------------------------------------
				$('#showall').text('Нет скрытых');
			});
	
}
		});
		});
	</script>
	<style type="text/css">
		table {
			width: 900px;
			border-collapse: collapse;
			border-width: 1px;
			border-style: dotted;
		}
		caption {
			caption-side: bottom;
			text-transform: uppercase;
		}
		td, th {
			border-width: 1px;
			border-style: dotted;
		}
		tr th {
			text-align: left;
		}
		
		tr:nth-child(odd) {
			background-color: lightgrey;
		}

		tr:nth-child(1) th {
			background-color: grey;
			text-align: center;
		}
		tr:hover {
			background-color: black;
			color: green;
			cursor: pointer;
		}
	</style>
</head>
<body>
	<button type="button" class="btn btn-primary btn-lg btn-block" id="showall"></button>
	<!--<button type="button" class="btn btn-primary btn-lg btn-block" id="nohid">Нет скрытых строк</button>-->
	
<br>
<table id="data">
 <caption>данные о сотрудниках</caption>
 <tr>
 <th>ФИО</th>
 <th>пол</th> 
 <th>должность</th>
 <th>дата рож.</th>
 <th>Данные 01</th>
 <th>Данные 02</th>
 </tr>
 <tr>
 <th>Иванов Иван Иванович</th>
 <td>М</td> 
 <td>начальник</td>
 <td>01.01.1960</td>
 <td>4567</td>
 <td>3453</td>
 </tr>
 <tr>
 <th>Петрова Илонна Петровна</th>
 <td>Ж</td> 
 <td>секретарь</td>
 <td>01.01.1989</td>
 <td>98795</td>
 <td>46523</td>
 </tr>
 <tr>
 <th>Сидоров Илья Игоревич</th>
 <td>М</td> 
 <td>бухгалтер</td>
 <td>01.01.1979</td>
 <td>743434</td>
 <td>987979</td>
 </tr>
 <tr>
 <th>Пупин Фёдор Фёдорович</th>
 <td>М</td> 
 <td>водитель</td>
 <td>01.01.1963</td>
 <td>74323434</td>
 <td>9232379</td>
 </tr>
 <tr>
 <th>Крупин Сергей Иванович</th>
 <td>М</td> 
 <td>водитель 2</td>
 <td>01.01.1983</td>
 <td>3234534</td>
 <td>923123379</td>
 </tr>
 </table>
</body>
</html>